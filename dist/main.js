(()=>{"use strict";var e={d:(t,r)=>{for(var n in r)e.o(r,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:r[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function*t(){for(let e=0;e<m.length;e++)for(let t=0;t<m[e].length;t++)yield[m[e][t],e,t]}function r(){return Math.round(Math.random())}function n(e,t){const r=document.querySelector("#grid");document.querySelector("#grid").innerHTML="";for(let n=0;n<e;n++)r.appendChild(o(t,n));m=Array.from(document.querySelector("#grid").children).map((e=>Array.from(e.children)))}function o(e,t){let r=document.createElement("div");r.classList="row",r.id=`r-${t}`;for(let n=0;n<e;n++)r.appendChild(c(`${t}:${n}`));return r}function c(e){let t=document.createElement("input");return t.type="checkbox",t.classList="cell",t.id=e,t.checked=!!r(),t}function a(){!function(e){for(const[r,n,o]of t())r.checked=!!e[n][o]}(function(){let e=Array(m.length).fill(0).map((e=>Array(m[e].length).fill(0)));for(const[r,n,o]of t()){let t=i(r);r.checked?e[n][o]=3==t||4==t?1:0:e[n][o]=3==t?1:0}return e}()),h++,document.querySelector("#generation").innerText=`generation: ${h}`}function i(e){const[t,r]=function(e){return e.id.split(":").map(Number)}(e),n=r-1<0?r:r-1;let o=m[t-1]?m[t-1].slice(n,r+2):[],c=m[t].slice(n,r+2),a=m[t+1]?m[t+1].slice(n,r+2):[];return o.concat(c,a).reduce(((e,t)=>e+(1==t.checked?1:0)),0)}function l(){const e=document.querySelector("#start"),t=e.children[0],r=e.children[1];e.dataset.start="false"===e.dataset.start?"true":"false",t.innerText="Start"==t.innerText?"Stop":"Start",r.innerText="play_arrow"==r.innerText?"stop":"play_arrow","true"===e.dataset.start&&async function(){const e=document.querySelector("#start");for(;"true"==e.dataset.start;)a(),await t(333);function t(e){return new Promise((t=>setTimeout(t,e)))}}()}function u(){d();for(const[e]of t())e.checked=!1}function d(){const e=document.querySelector("#start"),t=e.children[0];e.dataset.start="false",t.innerText="Start",e.children[1].innerText="play_arrow",h=0,document.querySelector("#generation").innerText=`generation: ${h}`}function s(){d();for(const[e]of t())e.checked=!!r()}function f(){const e=document.querySelector("#p1").style,t=document.querySelector("#p2").style,r=document.querySelector("#how-to-button").style;"1000px"==e.maxHeight?[e.maxHeight,t.maxHeight]=["0px","0px"]:[e.maxHeight,t.maxHeight]=["1000px","1000px"],r.transform="rotate(0deg)"==r.transform?"rotate(-180deg)":"rotate(0deg)"}let m;e.d({},{H:()=>m,l:()=>h});let h=0;window.matchMedia("(max-width: 864px)").matches?n(Math.floor((visualViewport.height-100)/35),Math.floor((visualViewport.width-10)/35)):n(23,23),function(){document.querySelector("#start").addEventListener("click",l),document.querySelector("#next").addEventListener("click",a),document.querySelector("#clear").addEventListener("click",u),document.querySelector("#reset").addEventListener("click",s);const e=document.querySelector("#how-to-button");e.style.transform="rotate(0deg)",e.addEventListener("click",f)}()})();